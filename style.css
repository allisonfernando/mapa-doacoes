:root{
  --brand:#2e7d32; --bg:#f6f7fb; --card:#fff; --muted:#666;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:var(--bg);color:#111}
header{position:fixed;left:0;right:0;top:0;background:linear-gradient(135deg,#43a047,var(--brand));color:#fff;padding:12px 16px;font-weight:700;z-index:1300;text-align:center;display:flex;align-items:center;justify-content:center;gap:10px}
#map{height:100vh;width:100%;}

/* Top controls retrátil */
.controls{position:fixed;left:50%;top:64px;transform:translateX(-50%);z-index:1200;background:rgba(255,255,255,.95);padding:10px;border-radius:12px;display:flex;gap:8px;align-items:center;box-shadow:0 8px 20px rgba(0,0,0,.08);transition:all .3s;}
.controls.hide{transform:translateX(-50%) translateY(-120%);opacity:0;}
.controls input{padding:8px 10px;border:1px solid #e6e9ee;border-radius:8px;min-width:150px}
.btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:600;transition:all .2s}
.btn-primary{background:linear-gradient(135deg,#66bb6a,#2e7d32);color:#fff}
.btn-primary:hover{filter:brightness(1.1)}
.btn-ghost{background:#fff;border:1px solid #e6e9ee}
.btn-ghost:hover{background:#f0f2f4}

/* Botão fixo para expandir/ocultar menu */
#toggleMenu{position:fixed;top:56px;left:12px;z-index:1500;}

/* Sidebar */
.sidebar{position:fixed;right:12px;top:120px;width:340px;max-height:72vh;overflow:auto;background:var(--card);padding:12px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.08);z-index:1200}
.sidebar h3{margin:0 0 10px;font-size:16px}
.card{display:flex;gap:10px;padding:10px;border-radius:10px;border:1px solid #f0f2f4;background:#fff;margin-bottom:8px;transition:all .2s}
.card:hover{box-shadow:0 8px 20px rgba(0,0,0,.08)}
.thumb{width:80px;height:80px;border-radius:8px;object-fit:cover;background:#f2f3f5}
.info{flex:1}
.title{font-weight:700;font-size:14px}
.meta{font-size:12px;color:var(--muted);margin-top:4px}
.card .actions{margin-top:8px;display:flex;gap:6px;flex-wrap:wrap}

/* Modal */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:1400;align-items:center;justify-content:center;padding:16px;transition:all .3s}
.modal.open{display:flex}
.modal-box{width:100%;max-width:560px;background:var(--card);border-radius:12px;padding:16px;box-shadow:0 18px 40px rgba(0,0,0,.12)}
.modal-box h2{margin:0 0 8px}
.field{margin-top:10px}
.field label{display:block;font-weight:600;margin-bottom:6px}
.field input[type="text"], .field textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ee;font-size:14px}
.row{display:flex;gap:8px}
.small{width:50%}
.photos-preview{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
.photos-preview img{width:120px;height:100px;object-fit:cover;border-radius:8px;border:1px solid #eee}

/* Popup images */
.popup-img{width:100%;max-height:180px;object-fit:cover;border-radius:8px;margin-top:8px}

@media(max-width:900px){
  .sidebar{left:50%;transform:translateX(-50%);right:auto;top:auto;bottom:12px;width:94%;max-height:38vh}
  .controls{left:12px;transform:none;top:72px}
}
@media(max-width:600px){
  .row{flex-direction:column}
}
